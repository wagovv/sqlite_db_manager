2025-06-29 09:06:00,258 - INFO - db_manager - Logger started, file: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\log\log_files\db_manager_20250629_090600.log
2025-06-29 09:06:00,278 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,278 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,278 - DEBUG - db_manager - Executing SQL: CREATE TABLE IF NOT EXISTS user_permissions (username TEXT, permission TEXT, PRIMARY KEY(username,permission))
2025-06-29 09:06:00,279 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,279 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,281 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,281 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','login')
2025-06-29 09:06:00,281 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,281 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,281 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,281 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','select_env')
2025-06-29 09:06:00,282 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,282 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,282 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,282 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','view_data')
2025-06-29 09:06:00,282 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,283 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,283 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,283 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','apply_filters')
2025-06-29 09:06:00,283 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,283 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,283 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,283 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','submit_for_approval')
2025-06-29 09:06:00,284 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,284 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,284 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,284 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,284 - DEBUG - db_manager - Executing SQL: 
        CREATE TABLE IF NOT EXISTS approval_requests (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user TEXT NOT NULL,
            sql TEXT NOT NULL,
            status TEXT NOT NULL DEFAULT 'pending',
            submitted_at TEXT NOT NULL,
            approved_by TEXT
        )
    
2025-06-29 09:06:00,285 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,285 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,285 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,285 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,285 - DEBUG - db_manager - Executing SQL: CREATE TABLE IF NOT EXISTS user_permissions (username TEXT, permission TEXT, PRIMARY KEY(username,permission))
2025-06-29 09:06:00,286 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,286 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,286 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,286 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','login')
2025-06-29 09:06:00,286 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,286 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,286 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,287 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','select_env')
2025-06-29 09:06:00,287 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,287 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,287 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,287 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','view_data')
2025-06-29 09:06:00,287 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,288 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,288 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,288 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','apply_filters')
2025-06-29 09:06:00,288 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,288 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,288 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,288 - DEBUG - db_manager - Executing SQL: INSERT OR IGNORE INTO user_permissions(username,permission) VALUES('test','submit_for_approval')
2025-06-29 09:06:00,289 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,289 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:00,289 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,289 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:00,289 - DEBUG - db_manager - Executing SQL: 
        CREATE TABLE IF NOT EXISTS approval_requests (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user TEXT NOT NULL,
            sql TEXT NOT NULL,
            status TEXT NOT NULL DEFAULT 'pending',
            submitted_at TEXT NOT NULL,
            approved_by TEXT
        )
    
2025-06-29 09:06:00,290 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:00,290 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,950 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,951 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,951 - DEBUG - db_manager - Executing SQL: SELECT name, type FROM sqlite_master WHERE type IN ('table','view')
2025-06-29 09:06:02,952 - DEBUG - db_manager - Query returned 3 rows
2025-06-29 09:06:02,952 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,952 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,953 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('approval_requests')
2025-06-29 09:06:02,953 - DEBUG - db_manager - Query returned 8 rows
2025-06-29 09:06:02,953 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,954 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,954 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('sqlite_sequence')
2025-06-29 09:06:02,954 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:02,954 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,954 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,955 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('user_permissions')
2025-06-29 09:06:02,955 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:02,955 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,955 - INFO - db_manager - Schema fetched for DB: admin.db
2025-06-29 09:06:02,957 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,958 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,958 - DEBUG - db_manager - Executing SQL: SELECT name, type FROM sqlite_master WHERE type IN ('table','view')
2025-06-29 09:06:02,958 - DEBUG - db_manager - Query returned 3 rows
2025-06-29 09:06:02,958 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,958 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,960 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('approval_requests')
2025-06-29 09:06:02,960 - DEBUG - db_manager - Query returned 8 rows
2025-06-29 09:06:02,960 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,960 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,960 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('sqlite_sequence')
2025-06-29 09:06:02,960 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:02,960 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,960 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:02,960 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('user_permissions')
2025-06-29 09:06:02,960 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:02,961 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:02,961 - INFO - db_manager - Schema fetched for DB: admin.db
2025-06-29 09:06:03,062 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,062 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,062 - DEBUG - db_manager - Executing SQL: SELECT permission FROM user_permissions WHERE username='test'
2025-06-29 09:06:03,062 - DEBUG - db_manager - Query returned 5 rows
2025-06-29 09:06:03,062 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:03,508 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,508 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,508 - DEBUG - db_manager - Executing SQL: 
        CREATE TABLE IF NOT EXISTS approval_requests (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user TEXT NOT NULL,
            sql TEXT NOT NULL,
            status TEXT NOT NULL DEFAULT 'pending',
            submitted_at TEXT NOT NULL,
            approved_by TEXT,
            target_db TEXT,
            snapshot_path TEXT
            )
        
2025-06-29 09:06:03,508 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:03,509 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:03,509 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,509 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,509 - DEBUG - db_manager - Executing SQL: SELECT * FROM approval_requests ORDER BY submitted_at DESC
2025-06-29 09:06:03,509 - DEBUG - db_manager - Query returned 16 rows
2025-06-29 09:06:03,509 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:03,514 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,515 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,515 - DEBUG - db_manager - Executing SQL: 
        CREATE TABLE IF NOT EXISTS approval_requests (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user TEXT NOT NULL,
            sql TEXT NOT NULL,
            status TEXT NOT NULL DEFAULT 'pending',
            submitted_at TEXT NOT NULL,
            approved_by TEXT,
            target_db TEXT,
            snapshot_path TEXT
            )
        
2025-06-29 09:06:03,515 - INFO - db_manager - Query executed and changes committed
2025-06-29 09:06:03,515 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:03,515 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,516 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,516 - DEBUG - db_manager - Executing SQL: SELECT * FROM approval_requests ORDER BY submitted_at DESC
2025-06-29 09:06:03,516 - DEBUG - db_manager - Query returned 16 rows
2025-06-29 09:06:03,516 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:03,984 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,984 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:03,984 - DEBUG - db_manager - Executing SQL: SELECT permission FROM user_permissions WHERE username='test'
2025-06-29 09:06:03,985 - DEBUG - db_manager - Query returned 5 rows
2025-06-29 09:06:03,985 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,445 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,445 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,446 - DEBUG - db_manager - Executing SQL: SELECT name, type FROM sqlite_master WHERE type IN ('table','view')
2025-06-29 09:06:04,446 - DEBUG - db_manager - Query returned 3 rows
2025-06-29 09:06:04,446 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,446 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,447 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('approval_requests')
2025-06-29 09:06:04,447 - DEBUG - db_manager - Query returned 8 rows
2025-06-29 09:06:04,447 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,447 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,448 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('sqlite_sequence')
2025-06-29 09:06:04,448 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:04,448 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,448 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,448 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('user_permissions')
2025-06-29 09:06:04,448 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:04,448 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,449 - INFO - db_manager - Schema fetched for DB: admin.db
2025-06-29 09:06:04,451 - INFO - db_manager - DBHandler initialized with DB path: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,451 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,452 - DEBUG - db_manager - Executing SQL: SELECT name, type FROM sqlite_master WHERE type IN ('table','view')
2025-06-29 09:06:04,452 - DEBUG - db_manager - Query returned 3 rows
2025-06-29 09:06:04,452 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,452 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,453 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('approval_requests')
2025-06-29 09:06:04,453 - DEBUG - db_manager - Query returned 8 rows
2025-06-29 09:06:04,453 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,454 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,454 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('sqlite_sequence')
2025-06-29 09:06:04,454 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:04,454 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,454 - DEBUG - db_manager - Opening connection to DB: C:\Users\Ariel Wagowsky\Desktop\Project leah\repo\backend\app\dbs\admin.db
2025-06-29 09:06:04,454 - DEBUG - db_manager - Executing SQL: PRAGMA table_info('user_permissions')
2025-06-29 09:06:04,455 - DEBUG - db_manager - Query returned 2 rows
2025-06-29 09:06:04,455 - DEBUG - db_manager - Database connection closed
2025-06-29 09:06:04,455 - INFO - db_manager - Schema fetched for DB: admin.db
